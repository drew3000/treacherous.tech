<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Mirror your site on the Tor Network with a .onion address</title><meta name="description" content="Here's a cheap and easy way to create an Tor Hidden Service out of your public website to help visitors maintain their privacy and/or bypass censorship."><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://treacherous.tech/mirroring-a-site-on-a-onion-address.html"><link rel="alternate" type="application/atom+xml" href="https://treacherous.tech/feed.xml"><link rel="alternate" type="application/json" href="https://treacherous.tech/feed.json"><meta property="og:title" content="Mirroring a site on a .onion address"><meta property="og:image" content="https://treacherous.tech/media/posts/8/Onion_garden-2.jpg"><meta property="og:site_name" content="treacherous.tech"><meta property="og:description" content="Here's a cheap and easy way to create an Tor Hidden Service out of your public website to help visitors maintain their privacy and/or bypass censorship."><meta property="og:url" content="https://treacherous.tech/mirroring-a-site-on-a-onion-address.html"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@andrewfordlyons"><meta name="twitter:title" content="Mirroring a site on a .onion address"><meta name="twitter:description" content="Here's a cheap and easy way to create an Tor Hidden Service out of your public website to help visitors maintain their privacy and/or bypass censorship."><meta name="twitter:image" content="https://treacherous.tech/media/posts/8/Onion_garden-2.jpg"><link rel="shortcut icon" href="https://treacherous.tech/media/website/favicon.ico" type="image/x-icon"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Ubuntu:400,700&amp;subset=latin-ext&amp;display=swap" rel="stylesheet"><style>:root{--body-font:'Ubuntu',sans-serif;--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:'Ubuntu',sans-serif;--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://treacherous.tech/assets/css/style.css?v=2225c0990de0fc654d3d6a43c0be230b"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://treacherous.tech/mirroring-a-site-on-a-onion-address.html"},"headline":"Mirroring a site on a .onion address","datePublished":"2021-05-29T22:09","dateModified":"2021-06-04T23:06","image":{"@type":"ImageObject","url":"https://treacherous.tech/media/posts/8/Onion_garden-2.jpg","height":405,"width":720},"description":" I've made a .onion Tor hidden service mirror of this here blog. Using The Tor Browser, you can now find it at&nbsp;ygwdnjw2gt6sabcrhjqmpgsn4hhddomhipdpxbx6bru2zr2damxevqyd.onion. This post is just a run through of the route I took to do it and&hellip;","author":{"@type":"Person","name":"Yours Truly"},"publisher":{"@type":"Organization","name":"Yours Truly"}}</script><meta http-equiv="onion-location" content="https://ygwdnjw2gt6sabcrhjqmpgsn4hhddomhipdpxbx6bru2zr2damxevqyd.onion"></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://treacherous.tech/">treacherous.tech</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://treacherous.tech/contact.html" target="_self">Ping me</a></li></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://treacherous.tech/media/posts/8/Onion_garden-2.jpg" srcset="https://treacherous.tech/media/posts/8/responsive/Onion_garden-2-xs.jpg 300w, https://treacherous.tech/media/posts/8/responsive/Onion_garden-2-sm.jpg 480w, https://treacherous.tech/media/posts/8/responsive/Onion_garden-2-md.jpg 768w, https://treacherous.tech/media/posts/8/responsive/Onion_garden-2-lg.jpg 1024w, https://treacherous.tech/media/posts/8/responsive/Onion_garden-2-xl.jpg 1360w, https://treacherous.tech/media/posts/8/responsive/Onion_garden-2-2xl.jpg 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="405" width="720" alt="https://commons.wikimedia.org/wiki/File:Onion_garden.jpg"><figcaption>Onion Garden via Wikimedia Madmad1234, CC BY-SA 4.0</figcaption></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2021-05-29T22:09">29 May 2021</time></div><h1>Mirroring a site on a .onion address</h1><div class="post__meta post__meta--author"><a href="https://treacherous.tech/authors/yours-truly/" class="feed__author invert">Yours Truly</a></div></div></header></div><div class="wrapper post__entry"><p>I've made a .onion Tor hidden service mirror of this here blog. Using The Tor Browser, you can now find it at&nbsp;<code>ygwdnjw2gt6sabcrhjqmpgsn4hhddomhipdpxbx6bru2zr2damxevqyd.onion</code>. This post is just a run through of the route I took to do it and some notes on the steps someone could take to do likewise, and a few pain points on the way. Lastly, I've chucked in some final points on what the world needs if Hidden Service platforms are to become more common.</p><h3 id="the-what-and-the-way">The what and the way</h3><p>If the following is old hat, then skip this section and just scroll down to <strong>The Goods</strong> that follow. I still assume a lot of people aren't familiar with The Tor Network.</p><figure class="post__image post__image--center"><img loading="lazy" src="https://treacherous.tech/media/posts/8/onion-bounces-2.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://treacherous.tech/media/posts/8/responsive/onion-bounces-2-xs.jpg 300w, https://treacherous.tech/media/posts/8/responsive/onion-bounces-2-sm.jpg 480w, https://treacherous.tech/media/posts/8/responsive/onion-bounces-2-md.jpg 768w, https://treacherous.tech/media/posts/8/responsive/onion-bounces-2-lg.jpg 1024w, https://treacherous.tech/media/posts/8/responsive/onion-bounces-2-xl.jpg 1360w, https://treacherous.tech/media/posts/8/responsive/onion-bounces-2-2xl.jpg 1600w" height="549" width="976" alt=""></figure><p>Sometimes you don't want your internet service provider (ISP) to know what you're up to on the web. This could be just a personal choice, it could be due to local laws, the internet router could be suspect if you're on a shared or unfamiliar network, or maybe you're in a country where looking up some topics are taboo if not just illegal. You may have heard of the <a href="https://www.torproject.org/download/" target="_blank">Tor Browser</a>, which is a web browser aimed at delivering users with strong privacy and anonymity and evade censorship. It bounces traffic through encrypted relays and delivers the site back through them as well. That's the pithy short version of what's going on. Find out more about it at the <a href="https://www.torproject.org/" target="_blank">Tor Project website</a>.&nbsp;</p><p>Tor itself is a <a href="https://svn-archive.torproject.org/svn/projects/design-paper/blocking.html" target="_blank">network</a>.&nbsp;People can also make websites inside the Tor network, or create an alternate address in it, letting people find their site on a ".onion" address inside Tor instead of exiting out the other side. This helps to maintain the end-to-end encryption between you and the website you're visiting. It also can add another layer of anonymity for visitors.</p><p>You've likely heard of the 'Dark Web' horror stories of hit men for hire and drug markets, but also sites like the&nbsp;<a href="https://www.bbc.co.uk/news/technology-50150981" target="_blank">BBC</a> offer .onion addresses to help users protect themselves while visiting potentially forbidden content according to whatever filtering may be happening locally. To visit a .onion address, you need the Tor Browser, but with it you can circumvent censorship and monitoring by visiting it at&nbsp; <a href="https://www.bbcnewsv2vjtpsuy.onion/" rel="nofollow noopener">bbcnewsv2vjtpsuy.onion</a>.&nbsp; I won't list all the examples here, but if you want to see more examples, <a href="https://privacypros.io/tor/best-onion-sites/" target="_blank">check them out elsewhere</a>. There are loads.</p><p>The internet is becoming a more surveilled experience from the moment anyone gets on it. the onramps, the services and search engines and more and more of the tools we use to communicate are finding that the key way of staying in business is to categorise us and find ways to better flog things we can buy, or sell on that data to others who may have some use for it. Few software makers are traveling in the opposite direction. The Tor Project is one of these that seek to make an open source protocol out of your right to privacy. I'm interested in ways publishing platforms can bypass censorship, but also respect their visitor's rights/needs to privacy or more anonymity. Potentially, I want to use this, or a flavour of it, in a project for a large number of sites.</p><p>There are a few other services I'm interested in as well. the <a href="https://geti2p.net/en/" target="_blank">i2P network</a> runs another censorship circumvention service where content or service creators can run what they call <a href="https://geti2p.net/en/docs/api/i2ptunnel" target="_blank">eepsites</a>.&nbsp; I'm interested in how to mirror on these as well.&nbsp; In the true spirit of mad scientists, I experiment on myself.</p><h3 id="the-goods">The Goods</h3><p>Now on to the technical bits. This isn't meant to be the all-singing-all-dancing tutorial on mirroring everything on Tor, but more of a "here's what I did" run-through. I may have done some things wrong. There may be better ways to do it. But if it helps you out and increases people using Tor Hidden Services to help users, then that's fabulous.</p><p>So, the public site I mirrored is the site you're looking at right now. It's a simple, flat-file blog hosted on <a href="https://pages.github.com/" target="_blank">Github Pages</a>. I don't know how well some custom functionality or any especially whiz-bang things you may have on your website will work out-of-the-box when subjected to the Tor Browser or this method of mirroring a site as a hidden service. The good news, is you'll get to find out really soon.</p><h4 id="the-ingredients">The ingredients</h4><p>Firstly, we're going to need a website to mirror. Note, this is only for mirroring a website that's already available on the open, public web, not hosting something inside a .onion address exclusively. We aren't trying to hide the website or much anything about it. It's about making it accessible&nbsp; from inside the Tor network.</p><p>For this I used a really nice tool by Alec Muffett, called&nbsp;<a href="https://github.com/alecmuffett/eotk" target="_blank">EOTK</a>,&nbsp;to do the .onion mirroring. To host the mirror I got a cheap VPS (there are suitable candidates for this on Linode, Digital Ocean, Vultr, etc.) For the SSL certificate I used <a href="https://www.harica.gr/" target="_blank">harica.gr</a>, which is one of only two certificate providers that cover hidden services (I have strong opinions on this, and so more editorialising when we get to that section below).</p><p>Like any good cooking show, I've got the finished&nbsp;soufflé <a href="https://ygwdnjw2gt6sabcrhjqmpgsn4hhddomhipdpxbx6bru2zr2damxevqyd.onion" target="_blank">here</a>. We need the <a href="https://www.torproject.org/download/" target="_blank">Tor Browser</a> to look at that, but you're going to need that anyway to see how our dish is shaping up at different stages along the way. Also, the preparation is all taking place in the terminal. Everything here assumes you're able to use that as well as do the set-up of a server and user with its own ssh key.</p><p><em>I'm going to fast-forward a bit.&nbsp; Just know I made a number of errors along the way and what follows represents just the correct turns, and not the bad ones or dead ends. I<strong> highly recommend reading through the bulk of the EOTK repo and all doc files</strong>, including but not limited to the <a href="https://github.com/alecmuffett/eotk/blob/master/docs.d/HOW-TO-INSTALL.md" target="_blank">how-to-install</a> page. The <a href="https://github.com/alecmuffett/eotk/blob/master/docs.d/deprecated-documents.d/CHANGELOG.md" target="_blank">Changelog</a> is also really useful and can save a lot of time by reading before starting. There is also a lot of good information to be found in&nbsp; &nbsp;This post isn't meant to be a replacement for any of that, but just a summary of my efforts.</em></p><h4 id="the-server">The server</h4><p>Our .onion mirrored website needs a server.&nbsp;I fired up a&nbsp;<strong>Ubuntu 20.04 VPS</strong>. This is a standard option you can find on most any VPS provider. EOTK has instructions for various flavours of server but the steps that follow here are assuming that one.</p><h4 id="creating-a-onion-mirror-of-our-website">Creating a .onion mirror of our website</h4><p>SSH into this new server. It's good to do an&nbsp;<code>apt-get update</code> and&nbsp;<code>apt-get upgrade</code>&nbsp;to start things off with the latest versions of things.</p><p>Now let's get the EOTK package from Alec's repo:<br><code>git clone https://github.com/alecmuffett/eotk.git</code></p><p>Next head to the EOTK directory which is where most everything is going to happen.<br><code>cd eotk</code><br></p><p>Here, were' going to build the environment based on the use of our Ubuntu 20.04 setup:<br><code>./opt.d/build-ubuntu-20.04.sh</code></p><p>Now we're going to generate the scripts (really do look at before moving on):<br><code>./eotk make-scripts</code></p><p>Now it's time to give EOTK the instructions it needs to mirror our website. I use nano to edit things. Use vim or whatever you want, but nano is easy:<br><code>nano your_project.tconf<br></code></p><p>In this new empty file, customise and add the following:</p><p><code>set project your_project<br>hardmap %NEW_V3_ONION% your_website.com</code></p><p><em>(Note where it specifies 'V3'. We need a v3 onion address as these are what the SSL certificates will require. Earlier versions are shorter, possibly easier, but won't work with SSL)</em></p><p>Save and exit that file.</p><p>Run the following:<br><code>./eotk config your_project.tconf</code><br></p><p>This is going to generate the .onion address. Copy that and save it in a txt file somewhere for pasting into the Tor Browser, and for the SSL stage later.</p><p>We no longer need the tconf file, so remove that. Notice there's now a .conf file with the same name. The rest of the effort will go in there:<br><code>rm your_project.tconf</code></p><p>Now let's start the new .onion website:<br><code>./eotk start your_project</code><br></p><p>Go to the Tor browser and visit this brand new .onion address. Here's what will see if everything happened right:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://treacherous.tech/media/posts/8/security-risk.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://treacherous.tech/media/posts/8/responsive/security-risk-xs.png 300w, https://treacherous.tech/media/posts/8/responsive/security-risk-sm.png 480w, https://treacherous.tech/media/posts/8/responsive/security-risk-md.png 768w, https://treacherous.tech/media/posts/8/responsive/security-risk-lg.png 1024w, https://treacherous.tech/media/posts/8/responsive/security-risk-xl.png 1360w, https://treacherous.tech/media/posts/8/responsive/security-risk-2xl.png 1600w" height="196" width="1256" alt=""></figure><p>This is fine. The Tor Browser, built on Mozilla's Firefox, is checking for Valid SSL certificates for the site to make a secure https connection. EOTK's nginx configuration defaults to https, and generates some default certificates that obviously won't match our site's brand new address. Since we know we made this website just now, we'll click the advanced button to "accept the risk and continue" and check out whether the website mirror is otherwise behaving normally. Remember to remove the exception from the browser when we're finished.</p><h4 id="now-lets-make-https-work">Now let's make https work</h4><p>The tasks above worked for me quite fast (about 10 minutes). Sorting out SSL on .onions presented a slight learning curve, some Googling, and a few questions back and forth with Alec in the EOTK repo issue queue, and the Harica helpdesk, both of which were patient and helpful. It's worth pointing out that in that time, Alec has written up a blog post on this very topic, read that for the official version, and for how to better use the EOTK conf file, which I can already see lends itself to my more ultimate goal on how to wrap everything into a scriptable and quickly repeatable process.</p><hr class="separator separator--dots"><p><strong>Read:</strong>&nbsp;<a href="https://alecmuffett.com/article/14735" target="_blank">Make your cleartext website #UNBLOCKABLE by adding a @torproject Onion address, using #EOTK and a HTTPS certificate from #HARICA</a></p><hr class="separator separator--dots"><h4 id="some-ssl-ranting">Some SSL ranting</h4><p>I'm now several years into being used to using <a href="https://letsencrypt.org/" target="_blank">Let's Encrypt</a> SSL for sites and haven't needed to go buy a certificate and deal with that whole manual validation process for a long time, and am sort of antagonistic about the whole thing. There are use cases for&nbsp;extended domain validation, getting that extra-verified&nbsp;<em>green bar</em> padlock or external validation "circle-of-trust" in the browser navigation bar, etc. I'm happy my bank has it. Facebook, Google, Amazon users should expect it. But I don't think it's necessary for the vast majority of the web. It's like buying air. Aside from making SSL free, to me the true gift of Let's Encrypt is the simplicity and the automation. But it doesn't run on Tor hidden service sites (yet).</p><p>Up until pretty recently, it seems the only SSL option for a .onion was <a href="https://www.digicert.com/dc/blog/ordering-a-onion-certificate-from-digicert/" target="_blank">Digicert</a>, with a price tag of $344 (not including tax) for a year of https. Possibly not what most people have budgeted for their blog, or underfunded news site or small, scrappy nonprofit organisation. Enter <a href="https://www.harica.gr/en/About/About" target="_blank">Harica.gr</a>, which drastically reduced the cost of entry to € 5.58. Harica is also <a href="https://www.gunet.gr/en/" target="_blank">funded by a nonprofit itself</a>, so with that small cost I feel like I'm actually paying for a service and funding someone to answer my potentially tedious questions.</p><h4 id="okay-back-to-it">Okay, back to it</h4><p>In the EOTK directly, let's take some time to review the different commands (if not already done).<br><code>./eotk -help</code></p><p>It's likely this is something useful to do at the start, but at this stage, we need to add some more things to our .conf file, restart EOTK once or twice and restart nginx at least once.</p><p>In Harica.gr, let's request a new certificate. Follow the steps there. We will need to validate the website. For this, I chose to generate my own csr instead of have Harica do it, and it's worth remembering this for later when we need to work on our .key file.&nbsp; Do the following to make a .csr file:<br><code>openssl req -newkey rsa:2048 -keyout your_site.key -out your_site.csr</code></p><p><mark><strong>IMPORTANT(!):</strong></mark> Save the password in your local txt file, we'll need it.</p><p>Submit the csr. Now Harica wants us to host a file on the site to complete the varification. Download that so we can copy the name and the content. Copy its name and content into the your_site.conf file.<br><code>nano your_site.conf</code></p><p>Paste in something that will look like this. I'm doing this for just one website, so this is pretty small. There are great examples of how to mirror loads of .onions at once in the EOTK docs, so for those, this entry would be much longer.</p><pre class="line-numbers language-html"><code>set ssl_proof_csv \
    /test,hello-world \
    /www/.well_known/pki-validation/FILENAME,CONTENT 
</code></pre><p>I did reach out for help at this stage as various attempts weren't working out. <a href="https://github.com/alecmuffett/eotk/issues/89" target="_blank">You can see that here</a>. This <a href="https://github.com/alecmuffett/eotk/issues/91" target="_blank">other issue</a>&nbsp;on overhauling the SSL proof mechanism is also worth tracking, as I am wanting to make a lot of .onion sites at some point. The<code>/test,hello-world \</code> argument is simply for us to test that our conf file is making urls right.</p><p>Save that .conf file and then run these:<br><code>./eotk config your_site.conf<br></code><code>./eotk restart your_site</code></p><p>Go back to the Harica dashboard to see to the next part of the validation.&nbsp;</p><h3 id="get-and-install-the-certificates">Get and install the certificates</h3><p>If the .onion site's validation checked out, then huzzah! We can now access the new files in the Harica dashboard. The certificates there will come in different formats. There's pem, der,&nbsp;PkCS#7 and a Pem Bundle. <strong>Download the Pem Bundle.</strong> We don't need the rest.</p><p>For the next bit, we need to make our encrypted key into a private key. Go back to where we'd made your .csr. and .key file. Do the following:<br><code>openssl pkcs8 -in your_site.key -out your_site-plain.key</code></p><p>Now, we're off to the SSL directory to add our files.&nbsp;<code>cd eotk/projects.d/your_site.d/ssl.d/</code>and add the <strong>your_site-plain.key</strong> and the <strong>.pem bundle</strong> you downloaded from Harica. Remove the default keys that were there, we don't need them, now.</p><p>Next, we're going to edit our nginx file to reflect the new files there. <code>cd ../</code>to the <b>your_site.d</b> directory and open the <strong>nginx.conf</strong> file. In the<b>&nbsp;# SSL config</b> section, update the names of the pem and key files to your new ones, and be careful to keep the path the same. Save and close that.</p><p>Back in our EOTK directory, restart nginx:<br><code>./eotk nxreload treacherous</code></p><p>Now go back to the .onion site in the Tor Browser and it should be working splendid.</p><h3 id="final-notes">Final notes</h3><p>So, I'm pretty sure I took the long way around and there are a lot of good shortcuts, and demonstratively better uses of the .conf file to combine steps. I forgot to include a .www in this certificate. The latest changes in EOTK this week also include a lot of good SSL advice.</p><p><strong>Laundry list:</strong></p><ul><li>I forgot to add a www version of the .onion address in the Harica SSl cert. You can make as many addresses as you want in the Harica dashboard fro your certificates. Could be useful for wildcards or running long lists of hidden service mirrors.</li><li>I understand (and agree with) the argument for driving people toward https on Tor hidden service sites, but think I'd it should be easier not to do this as an option until there's a Let's Encrypt option or something like it. I need to play more with EOTK to figure this out.&nbsp;</li><li>I think this entire process is scriptable, possibly in python. I'd like to run a cli that made this even more automated, and possibly removed some of the human gaffes from the process. Again, it would require a Let's Encrypt SSL solution to really work in one go.</li><li>Cloudflare could wrap this entire service into a back-end and render it as a switch in the user dashboard. This would then allow it to more easily white-list Tor traffic instead of treating it as suspect.</li></ul><p>For my <i>actual</i> project, I'd like to see how I can batch as much of this into a single script as possible as I'd potentially like to create .onions for 100+ mirrors in a manageable way with some other requirements not worth going into here. While I recommend and appreciate Harica, for my project to scale sustainably, I'd need Let's Encrypt or some kind of variant of it to support .onions.</p><p>Anyway, hope it helped. Many thanks to Harica's helpdesk person and Alec Muffett for their kind assists. Anything in this post that may be incorrect or problematic is mine.</p><p></p><p>Happy onions.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on 4 June 2021</p></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://treacherous.tech/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://treacherous.tech/this-is-how-they-tell-me-the-world-ends.html" class="invert post__nav-link" rel="prev"><span>Previous</span> Review: &#x27;This is How They Tell Me The World Ends&#x27;</a></div></div></nav></main><footer class="footer"><div class="footer__copyright"><p>Watch this space!</p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://treacherous.tech/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://treacherous.tech/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>